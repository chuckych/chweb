$((function(){"use strict";$(".alta_cierre").bind("submit",(function(e){e.preventDefault(),async function(){$("#GetPersonal").DataTable().search("").draw()}().then($.ajax({type:$(this).attr("method"),url:$(this).attr("action"),data:$(this).serialize(),beforeSend:function(e){$("#submit").prop("disabled",!0),$("#respuetatext").html("Generando Cierres"),$("#respuetatext").addClass("animate__animated animate__fadeIn"),$("#respuesta").addClass("alert-info"),$("#respuesta").removeClass("d-none"),$("#respuesta").removeClass("alert-success"),$("#respuesta").removeClass("alert-danger"),notify("Procesando Cierres","dark",0,"right")},success:function(e){"ok"==e.status?($("#cierre").prop("disabled",!1),$("#respuetatext").html(""),$("#submit").prop("disabled",!1),$("#submit").html("Ingresar Cierres"),$("#respuesta").removeClass("alert-success"),$("#respuesta").removeClass("alert-danger"),$("#respuesta").removeClass("alert-info"),$('input[type="checkbox"]').prop("checked",!1),$.notifyClose(),notify(e.dato,"success",5e3,"right"),$("#GetPersonal").DataTable().ajax.reload(null,!1)):($("#respuetatext").html(""),$("#submit").prop("disabled",!1),$("#submit").html("Ingresar Cierres"),$("#respuesta").removeClass("alert-success"),$("#respuesta").removeClass("alert-info"),$("#respuesta").removeClass("alert-danger"),$.notifyClose(),notify(e.dato,"danger",5e3,"right"),$("#GetPersonal").DataTable().ajax.reload(null,!1))}})),e.stopImmediatePropagation()})),$("#submit").html("Ingresar Cierres");let e=$("#GetPersonal").DataTable({lengthMenu:[[10,50,100,300,500,700,900],[10,50,100,300,500,700,900]],bProcessing:!0,serverSide:!0,deferRender:!0,searchDelay:1500,ajax:{url:"../personal/?p=array_personal.php",type:"GET",data:function(e){e.Per=$("#Per").val(),e.Tipo=$("#Tipo").val(),e.Emp=$("#Emp").val(),e.Plan=$("#Plan").val(),e.Sect=$("#Sect").val(),e.Sec2=$("#Sec2").val(),e.Grup=$("#Grup").val(),e.Sucur=$("#Sucur").val(),e._c=$("#_c").val(),e._r=$("#_r").val(),e.Modulo="Cierres"},error:function(){$("#GetPersonal_processing").css("display","none")}},createdRow:function(e,a,r){$(e).addClass("animate__animated animate__fadeIn pointer")},columns:[{class:"align-middle",data:"check"},{class:"align-middle",data:"pers_legajo2"},{class:"align-middle text-wrap",data:"pers_nombre2"},{class:"align-middle ls1",data:"FechaCierre"}],scrollY:"335px",scrollX:!0,paging:!0,responsive:!1,searching:!0,info:!0,ordering:!1,language:{url:"../js/DataTableSpanishShort2.json?"+vjs()}});e.on("init.dt",(function(e){$("div.loader").remove(),$("#Personal-select-all").prop("checked",!0),$("#GetPersonal_filter .form-control-sm").attr("placeholder","Buscar Legajo"),$("#EliminaCierre").is(":checked")?$("#EliminaCierre").prop("checked",!0):$("#EliminaCierre").prop("checked",!1)})),e.on("draw.dt",(function(e){$(".check").prop("checked",!0),$("#Personal-select-all").prop("checked",!0)})),$("#Personal-select-all").on("click",(function(){let a=e.rows({search:"applied"}).nodes();$(".check",a).prop("checked",this.checked)})),$("#GetPersonal tbody").on("change",'input[type="checkbox"]',(function(){if(!this.checked){var e=$("#Personal-select-all").get(0);e&&e.checked&&"indeterminate"in e&&(e.indeterminate=!0)}})),singleDatePicker("#cierre","right","up")}));