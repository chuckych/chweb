$(document).ready((function(){$("#Tipo").css({width:"200px"}),$(".form-control").css({width:"100%"}),$("#Filtros").on("shown.bs.modal",(function(){var e="0",a=!1,t="10",o="250",r=!0;function n(e){return 0===$(e.html).length?e.text:$(e.html)}function l(e){if(!e.id)return e.id;return $('<span class="fontp">'+e.title+"</span>")}function c(e){$(e).on("select2:select",(function(e){$("#Per2").val(null),ActualizaTablas2()}))}function i(e){$(e).on("select2:unselecting",(function(e){$("#Per2").val(null),ActualizaTablas2()}))}function s(e){$(e).on("select2:open",(function(e){setTimeout((()=>{$(this).val(null).trigger("change")}),300)}))}function u(e){$(e).on("select2:close",(function(e){$("#Per2").val(null),ActualizaTablas2()}))}$(".selectjs_empresa").select2({multiple:!0,allowClear:r,language:"es",dropdownParent:$("#Filtros"),placeholder:"Empresas",minimumInputLength:e,minimumResultsForSearch:5,maximumInputLength:t,selectOnClose:a,templateResult:n,templateSelection:l,language:{noResults:function(){return"No hay resultados.."},inputTooLong:function(e){var a="Máximo "+t+" caracteres. Elimine "+overChars+" caracter";return 1!=overChars&&(a+="es"),a},searching:function(){return"Buscando.."},errorLoading:function(){return"Sin datos.."},removeAllItems:function(){return"Borrar"},inputTooShort:function(){return"Ingresar "+e+" o mas caracteres"},maximumSelected:function(){return"Puede seleccionar solo una opción"},loadingMore:function(){return"Cargando más resultados…"}},ajax:{url:"/"+$("#_homehost").val()+"/general/getSelect/getEmpFichas.php",dataType:"json",type:"POST",delay:o,data:function(e){return{q:e.term,Filtros:_Filtros(),Per:$("#Per").val(),Tipo:$("#Tipo").val(),Plan:$("#Plan").val(),Sect:$("#Sect").val(),Sec2:$("#Sec2").val(),Grup:$("#Grup").val(),Sucur:$("#Sucur").val(),_dr:$("#_dr").val(),_l:$("#_l").val(),FicDiaL:$("#FicDiaL").is(":checked")?1:0,FicFalta:$("#datoFicFalta").val(),FicNovT:$("#datoFicNovT").val(),FicNovI:$("#datoFicNovI").val(),FicNovS:$("#datoFicNovS").val(),FicNovA:$("#datoFicNovA").val(),Fic3Nov:$("#datoNovedad").val()}},processResults:function(e){return{results:e}}}}),$(".selectjs_plantas").select2({multiple:!0,allowClear:r,language:"es",dropdownParent:$("#Filtros"),placeholder:"Plantas",minimumInputLength:e,minimumResultsForSearch:5,maximumInputLength:t,selectOnClose:a,templateResult:n,templateSelection:l,language:{noResults:function(){return"No hay resultados.."},inputTooLong:function(e){var a="Máximo "+t+" caracteres. Elimine "+overChars+" caracter";return 1!=overChars&&(a+="es"),a},searching:function(){return"Buscando.."},errorLoading:function(){return"Sin datos.."},removeAllItems:function(){return"Borrar"},inputTooShort:function(){return"Ingresar "+e+" o mas caracteres"},maximumSelected:function(){return"Puede seleccionar solo una opción"},loadingMore:function(){return"Cargando más resultados…"}},ajax:{url:"/"+$("#_homehost").val()+"/general/getSelect/getPlanFichas.php",dataType:"json",type:"POST",delay:o,data:function(e){return{q:e.term,Filtros:_Filtros(),Per:$("#Per").val(),Tipo:$("#Tipo").val(),Emp:$("#Emp").val(),Sect:$("#Sect").val(),Sec2:$("#Sec2").val(),Grup:$("#Grup").val(),Sucur:$("#Sucur").val(),_dr:$("#_dr").val(),_l:$("#_l").val(),FicDiaL:$("#FicDiaL").is(":checked")?1:0,FicFalta:$("#datoFicFalta").val(),FicNovT:$("#datoFicNovT").val(),FicNovI:$("#datoFicNovI").val(),FicNovS:$("#datoFicNovS").val(),FicNovA:$("#datoFicNovA").val(),Fic3Nov:$("#datoNovedad").val()}},processResults:function(e){return{results:e}}}}),$(".selectjs_sectores").select2({multiple:!0,allowClear:r,language:"es",dropdownParent:$("#Filtros"),placeholder:"Sectores",minimumInputLength:e,minimumResultsForSearch:5,maximumInputLength:t,selectOnClose:a,templateResult:n,templateSelection:l,language:{noResults:function(){return"No hay resultados.."},inputTooLong:function(e){var a="Máximo "+t+" caracteres. Elimine "+overChars+" caracter";return 1!=overChars&&(a+="es"),a},searching:function(){return"Buscando.."},errorLoading:function(){return"Sin datos.."},removeAllItems:function(){return"Borrar"},inputTooShort:function(){return"Ingresar "+e+" o mas caracteres"},maximumSelected:function(){return"Puede seleccionar solo una opción"},loadingMore:function(){return"Cargando más resultados…"}},ajax:{url:"/"+$("#_homehost").val()+"/general/getSelect/getSectFichas.php",dataType:"json",type:"POST",delay:o,data:function(e){return{q:e.term,Filtros:_Filtros(),Per:$("#Per").val(),Tipo:$("#Tipo").val(),Emp:$("#Emp").val(),Plan:$("#Plan").val(),Sec2:$("#Sec2").val(),Grup:$("#Grup").val(),Sucur:$("#Sucur").val(),_dr:$("#_dr").val(),_l:$("#_l").val(),FicDiaL:$("#FicDiaL").is(":checked")?1:0,FicFalta:$("#datoFicFalta").val(),FicNovT:$("#datoFicNovT").val(),FicNovI:$("#datoFicNovI").val(),FicNovS:$("#datoFicNovS").val(),FicNovA:$("#datoFicNovA").val(),Fic3Nov:$("#datoNovedad").val()}},processResults:function(e){return{results:e}}}}),$(".select_seccion").select2({multiple:!0,allowClear:r,language:"es",dropdownParent:$("#Filtros"),placeholder:"Secciones",minimumInputLength:e,minimumResultsForSearch:5,maximumInputLength:t,selectOnClose:a,templateResult:n,templateSelection:l,language:{noResults:function(){return"No hay resultados.."},inputTooLong:function(e){var a="Máximo "+t+" caracteres. Elimine "+overChars+" caracter";return 1!=overChars&&(a+="es"),a},searching:function(){return"Buscando.."},errorLoading:function(){return"Sin datos.."},removeAllItems:function(){return"Borrar"},inputTooShort:function(){return"Ingresar "+e+" o mas caracteres"},maximumSelected:function(){return"Puede seleccionar solo una opción"},loadingMore:function(){return"Cargando más resultados…"}},ajax:{url:"/"+$("#_homehost").val()+"/general/getSelect/getSec2Fichas.php",dataType:"json",type:"POST",delay:o,data:function(e){return{q:e.term,Filtros:_Filtros(),Per:$("#Per").val(),Tipo:$("#Tipo").val(),Emp:$("#Emp").val(),Plan:$("#Plan").val(),Sect:$("#Sect").val(),Grup:$("#Grup").val(),Sucur:$("#Sucur").val(),_dr:$("#_dr").val(),_l:$("#_l").val(),FicDiaL:$("#FicDiaL").is(":checked")?1:0,FicFalta:$("#datoFicFalta").val(),FicNovT:$("#datoFicNovT").val(),FicNovI:$("#datoFicNovI").val(),FicNovS:$("#datoFicNovS").val(),FicNovA:$("#datoFicNovA").val(),Fic3Nov:$("#datoNovedad").val()}},processResults:function(e){return{results:e}}}}),$(".selectjs_grupos").select2({multiple:!0,allowClear:r,language:"es",dropdownParent:$("#Filtros"),placeholder:"Grupos",minimumInputLength:e,minimumResultsForSearch:5,maximumInputLength:t,selectOnClose:a,templateResult:n,templateSelection:l,language:{noResults:function(){return"No hay resultados.."},inputTooLong:function(e){var a="Máximo "+t+" caracteres. Elimine "+overChars+" caracter";return 1!=overChars&&(a+="es"),a},searching:function(){return"Buscando.."},errorLoading:function(){return"Sin datos.."},removeAllItems:function(){return"Borrar"},inputTooShort:function(){return"Ingresar "+e+" o mas caracteres"},maximumSelected:function(){return"Puede seleccionar solo una opción"},loadingMore:function(){return"Cargando más resultados…"}},ajax:{url:"/"+$("#_homehost").val()+"/general/getSelect/getGrupFichas.php",dataType:"json",type:"POST",delay:o,data:function(e){return{q:e.term,Filtros:_Filtros(),Per:$("#Per").val(),Tipo:$("#Tipo").val(),Emp:$("#Emp").val(),Plan:$("#Plan").val(),Sect:$("#Sect").val(),Sec2:$("#Sec2").val(),Sucur:$("#Sucur").val(),_dr:$("#_dr").val(),_l:$("#_l").val(),FicDiaL:$("#FicDiaL").is(":checked")?1:0,FicFalta:$("#datoFicFalta").val(),FicNovT:$("#datoFicNovT").val(),FicNovI:$("#datoFicNovI").val(),FicNovS:$("#datoFicNovS").val(),FicNovA:$("#datoFicNovA").val(),Fic3Nov:$("#datoNovedad").val()}},processResults:function(e){return{results:e}}}}),$(".selectjs_sucursal").select2({allowClear:r,multiple:!0,language:"es",dropdownParent:$("#Filtros"),placeholder:"Sucursales",minimumInputLength:e,minimumResultsForSearch:5,maximumInputLength:t,selectOnClose:a,templateResult:n,templateSelection:l,language:{noResults:function(){return"No hay resultados.."},inputTooLong:function(e){var a="Máximo "+t+" caracteres. Elimine "+overChars+" caracter";return 1!=overChars&&(a+="es"),a},searching:function(){return"Buscando.."},errorLoading:function(){return"Sin datos.."},removeAllItems:function(){return"Borrar"},inputTooShort:function(){return"Ingresar "+e+" o mas caracteres"},maximumSelected:function(){return"Puede seleccionar solo una opción"},loadingMore:function(){return"Cargando más resultados…"}},ajax:{url:"/"+$("#_homehost").val()+"/general/getSelect/getSucFichas.php",dataType:"json",type:"POST",delay:o,data:function(e){return{q:e.term,Filtros:_Filtros(),Per:$("#Per").val(),Tipo:$("#Tipo").val(),Emp:$("#Emp").val(),Plan:$("#Plan").val(),Sect:$("#Sect").val(),Sec2:$("#Sec2").val(),Grup:$("#Grup").val(),_dr:$("#_dr").val(),_l:$("#_l").val(),FicDiaL:$("#FicDiaL").is(":checked")?1:0,FicFalta:$("#datoFicFalta").val(),FicNovT:$("#datoFicNovT").val(),FicNovI:$("#datoFicNovI").val(),FicNovS:$("#datoFicNovS").val(),FicNovA:$("#datoFicNovA").val(),Fic3Nov:$("#datoNovedad").val()}},processResults:function(e){return{results:e}}}}),$(".selectjs_personal").select2({multiple:!0,allowClear:r,language:"es",dropdownParent:$("#Filtros"),placeholder:"Legajos",minimumInputLength:0,minimumResultsForSearch:5,maximumInputLength:t,selectOnClose:a,templateResult:n,templateSelection:n,language:{noResults:function(){return"No hay resultados.."},inputTooLong:function(e){var a="Máximo "+t+" caracteres. Elimine "+overChars+" caracter";return 1!=overChars&&(a+="es"),a},searching:function(){return"Buscando.."},errorLoading:function(){return"Sin datos.."},removeAllItems:function(){return"Borrar"},inputTooShort:function(){return"Ingresar 2 o mas caracteres"},maximumSelected:function(){return"Puede seleccionar solo una opción"},loadingMore:function(){return"Cargando más resultados…"}},ajax:{url:"/"+$("#_homehost").val()+"/general/getSelect/getLegajosFichas.php",dataType:"json",type:"POST",delay:o,data:function(e){return{q:e.term,Filtros:_Filtros(),Tipo:$("#Tipo").val(),Emp:$("#Emp").val(),Plan:$("#Plan").val(),Sect:$("#Sect").val(),Sec2:$("#Sec2").val(),Grup:$("#Grup").val(),Sucur:$("#Sucur").val(),_dr:$("#_dr").val(),_l:$("#_l").val(),FicDiaL:$("#FicDiaL").is(":checked")?1:0,FicFalta:$("#datoFicFalta").val(),FicNovT:$("#datoFicNovT").val(),FicNovI:$("#datoFicNovI").val(),FicNovS:$("#datoFicNovS").val(),FicNovA:$("#datoFicNovA").val(),Fic3Nov:$("#datoNovedad").val()}},processResults:function(e){return{results:e}}}}),$("#LegDe").select2({multiple:!1,allowClear:r,language:"es",dropdownParent:$("#Filtros"),minimumInputLength:0,minimumResultsForSearch:0,maximumInputLength:t,selectOnClose:a,templateResult:n,placeholder:"Desde",tags:!0,width:"150px",tokenSeparators:[","," "],language:{noResults:function(){return"No hay resultados.."},inputTooLong:function(e){var a="Máximo "+t+" caracteres. Elimine "+overChars+" caracter";return 1!=overChars&&(a+="es"),a},searching:function(){return"Buscando.."},errorLoading:function(){return"Sin datos.."},removeAllItems:function(){return"Borrar"},inputTooShort:function(){return""},maximumSelected:function(){return"Puede seleccionar solo una opción"},loadingMore:function(){return"Cargando más resultados…"}},ajax:{url:"/"+$("#_homehost").val()+"/general/getSelect/getLegajosFichasDeHa.php",dataType:"json",type:"POST",delay:250,data:function(e){return{q:e.term,Filtros:_Filtros(),Tipo:$("#Tipo").val(),Emp:$("#Emp").val(),Plan:$("#Plan").val(),Sect:$("#Sect").val(),Sec2:$("#Sec2").val(),Grup:$("#Grup").val(),Sucur:$("#Sucur").val(),_dr:$("#_dr").val(),_l:$("#_l").val(),FicDiaL:$("#FicDiaL").is(":checked")?1:0,FicFalta:$("#datoFicFalta").val(),FicNovT:$("#datoFicNovT").val(),FicNovI:$("#datoFicNovI").val(),FicNovS:$("#datoFicNovS").val(),FicNovA:$("#datoFicNovA").val(),Fic3Nov:$("#datoNovedad").val()}},processResults:function(e){return{results:e}},createTag:function(e){var a=$.trim(e.term);return""===a?null:{id:a,text:a,newTag:!0}}}}),$("#LegHa").select2({multiple:!1,allowClear:r,language:"es",dropdownParent:$("#Filtros"),placeholder:"Hasta",minimumInputLength:0,minimumResultsForSearch:0,maximumInputLength:t,selectOnClose:a,templateResult:n,tags:!0,width:"150px",tokenSeparators:[","," "],language:{noResults:function(){return"No hay resultados.."},inputTooLong:function(e){var a="Máximo "+t+" caracteres. Elimine "+overChars+" caracter";return 1!=overChars&&(a+="es"),a},searching:function(){return"Buscando.."},errorLoading:function(){return"Sin datos.."},removeAllItems:function(){return"Borrar"},inputTooShort:function(){return"Ingresar 1 o mas caracteres"},maximumSelected:function(){return"Puede seleccionar solo una opción"},loadingMore:function(){return"Cargando más resultados…"}},ajax:{url:"/"+$("#_homehost").val()+"/general/getSelect/getLegajosFichasDeHa.php",dataType:"json",type:"POST",delay:250,data:function(e){return{q:e.term,Filtros:_Filtros(),Tipo:$("#Tipo").val(),Emp:$("#Emp").val(),Plan:$("#Plan").val(),Sect:$("#Sect").val(),Sec2:$("#Sec2").val(),Grup:$("#Grup").val(),Sucur:$("#Sucur").val(),_dr:$("#_dr").val(),_l:$("#_l").val(),FicDiaL:$("#FicDiaL").is(":checked")?1:0,FicFalta:$("#datoFicFalta").val(),FicNovT:$("#datoFicNovT").val(),FicNovI:$("#datoFicNovI").val(),FicNovS:$("#datoFicNovS").val(),FicNovA:$("#datoFicNovA").val(),Fic3Nov:$("#datoNovedad").val()}},processResults:function(e){return{results:e}},createTag:function(e){var a=$.trim(e.term);return""===a?null:{id:a,text:a,newTag:!0}}}}),$(".selectjs_tipoper").select2({multiple:!1,allowClear:r,language:"es",dropdownParent:$("#Filtros"),placeholder:"Tipo Personal",minimumInputLength:0,minimumResultsForSearch:-1,maximumInputLength:t,selectOnClose:a,language:{noResults:function(){return"No hay resultados.."},inputTooLong:function(e){var a="Máximo "+t+" caracteres. Elimine "+overChars+" caracter";return 1!=overChars&&(a+="es"),a},searching:function(){return"Buscando.."},errorLoading:function(){return"Sin datos.."},removeAllItems:function(){return"Borrar"},inputTooShort:function(){return"Ingresar 2 o mas caracteres"},maximumSelected:function(){return"Puede seleccionar solo una opción"},loadingMore:function(){return"Cargando más resultados…"}},ajax:{url:"/"+$("#_homehost").val()+"/general/getSelect/getTipoPerFichas.php",dataType:"json",type:"POST",delay:o,data:function(e){return{q:e.term,Filtros:_Filtros(),Per:$("#Per").val(),Emp:$("#Emp").val(),Plan:$("#Plan").val(),Sect:$("#Sect").val(),Sec2:$("#Sec2").val(),Grup:$("#Grup").val(),Sucur:$("#Sucur").val(),_dr:$("#_dr").val(),_l:$("#_l").val(),FicDiaL:$("#FicDiaL").is(":checked")?1:0,FicFalta:$("#datoFicFalta").val(),FicNovT:$("#datoFicNovT").val(),FicNovI:$("#datoFicNovI").val(),FicNovS:$("#datoFicNovS").val(),FicNovA:$("#datoFicNovA").val(),Fic3Nov:$("#datoNovedad").val()}},processResults:function(e){return{results:e}}}}),$("#datoNovedad").select2({allowClear:r,multiple:!1,language:"es",dropdownParent:$("#Filtros"),placeholder:"Seleccionar Novedad",minimumInputLength:e,minimumResultsForSearch:2,maximumInputLength:t,selectOnClose:a,templateResult:n,language:{noResults:function(){return"No hay resultados.."},inputTooLong:function(e){var a="Máximo "+t+" caracteres. Elimine "+overChars+" caracter";return 1!=overChars&&(a+="es"),a},searching:function(){return"Buscando.."},errorLoading:function(){return"Sin datos.."},removeAllItems:function(){return"Borrar"},inputTooShort:function(){return"Ingresar 2 o mas caracteres"},maximumSelected:function(){return"Puede seleccionar solo una opción"},loadingMore:function(){return"Cargando más resultados…"}},ajax:{url:"/"+$("#_homehost").val()+"/general/getSelect/getNovNovedades.php",dataType:"json",type:"POST",delay:o,data:function(e){return{q:e.term,Filtros:_Filtros(),Per:$("#Per").val(),Tipo:$("#Tipo").val(),Emp:$("#Emp").val(),Plan:$("#Plan").val(),Sect:$("#Sect").val(),Sec2:$("#Sec2").val(),Grup:$("#Grup").val(),Sucur:$("#Sucur").val(),_dr:$("#_dr").val(),_l:$("#_l").val(),FicDiaL:$("#FicDiaL").is(":checked")?1:0,FicFalta:$("#datoFicFalta").val(),FicNovT:$("#datoFicNovT").val(),FicNovI:$("#datoFicNovI").val(),FicNovS:$("#datoFicNovS").val(),FicNovA:$("#datoFicNovA").val()}},processResults:function(e){return{results:e}}}}),$("#Per2").on("change",(function(){CheckSesion()})),s("#LegDe"),u("#LegDe"),s("#LegHa"),u("#LegHa"),c(".selectjs_empresa"),c(".selectjs_plantas"),c(".select_seccion"),c(".selectjs_grupos"),c(".selectjs_sucursal"),c(".selectjs_personal"),c(".selectjs_tipoper"),c("#datoNovedad"),i(".selectjs_empresa"),i("#datoNovedad"),i(".selectjs_plantas"),i(".select_seccion"),i(".selectjs_grupos"),i(".selectjs_sucursal"),i(".selectjs_personal"),i(".selectjs_tipoper"),$(".selectjs_sectores").on("select2:select",(function(e){$("#Per2").val(null),$(".select_seccion").prop("disabled",!1),$(".select_seccion").val(null).trigger("change"),ActualizaTablas2();var a=$(".selectjs_sectores :selected").text();$("#DatosFiltro").html("Sector: "+a)})),$(".selectjs_sectores").on("select2:unselecting",(function(e){$("#Per2").val(null),$(".select_seccion").prop("disabled",!0),$(".select_seccion").val(null).trigger("change"),ActualizaTablas2()})),$(".selectjs_personal").on("select2:select",(function(e){$("#Per2").val(null),ActualizaTablas2()}))}))})),$("#Filtros").on("hidden.bs.modal",(function(e){$("#Filtros").modal("dispose"),$(".show-calendar").hide()}));